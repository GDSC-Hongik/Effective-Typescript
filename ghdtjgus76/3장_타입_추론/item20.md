## *아이템 20 다른 타입에는 다른 변수 사용하기*

*자바스크립트 변수는 선언이 아닌 할당에 의해 타입이 결정(타입 추론)된다.*

*따라서, 아래와 같이 한 변수를 다양한 타입으로, 즉, 동적으로 변경할 수 있다.*

```jsx
let id = '12-34-56';
fetchProduct(id);  // string으로 사용

id = 123456;
fetchProductBySerialNumber(id);  // number로 사용
```

*반면, 타입스크립트에서는 위와 같이 코드를 작성하게 되면 오류가 발생한다.*

*타입스크립트는 초기값을 보고 id의 타입을 string으로 추론하였다.*

*string 타입에 number 타입을 할당할 수 없기 때문에 오류가 발생한다.*

```jsx
let id = '12-34-56';
fetchProduct(id); 

id = 123456;
// ~ '123456' 형식은 'string' 형식에 할당할 수 없다.
fetchProductBySerialNumber(id);
// ~ 'string' 형식의 인수는
// 'number' 형식의 매개변수에 할당할 수 없다.
```

*일반적으로 변수의 값은 변경될 수 있지만 타입은 잘 바뀌지 않는다.*

*타입을 변경할 수 있는 방법 또한 존재하는데, 새로운 변수 값을 포함하도록 확장하는 것이 아니라 타입을 더 작게 제한하는 것이다.*

*위 오류를 고치기 위해서 유니온 타입을 사용해서 id가 string과 number를 모두 포함할 수 있도록 타입을 확장하도록 변경하였다.*

*타입스크립트는 첫 번째 함수 호출에서 id는 string으로, 두 번째 호출에서는 number라고 판단한다.*

*이는 할당문에서 유니온 타입으로 범위가 좁혀졌기 때문이다.*

```jsx
let id: string|number = '12-34-56';
fetchProduct(id);

id = 123456;
fetchProductBySerialNumber(id);
```

*하지만, 유니온 타입으로 타입을 지정하면 id 사용 시마다 별도의 타입 확인 과정이 필요하기 때문에, 별도의 변수를 도입하는 방법이 더 낫다.*

*다음과 같은 이유로 다른 타입에는 별도의 변수를 사용하는 것이 바람직하다.*

- *타입 추론을 향상시키고 타입 구문이 불필요해진다.*
- *타입이 간결해진다.(string|number 대신 string과 number를 사용한다.)*
- *let 대신 const로 변수를 선언할 수 있다.(const 사용 시 코드가 간결해지고 타입 체커가 타입을 추론하기에도 좋다.)*